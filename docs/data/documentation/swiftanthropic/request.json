{"schemaVersion":{"minor":3,"patch":0,"major":0},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)"]},{"identifiers":["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/encode(to:)"],"title":"Instance Methods"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"Request","kind":"identifier"}],"languages":["swift"]}]},{"kind":"content","content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Request"},{"text":" exposes all configuration options offered by Anthropic for their ","type":"text"},{"identifier":"https:\/\/docs.anthropic.com\/en\/api\/messages","isActive":true,"type":"reference"},{"text":".","type":"text"}]},{"type":"heading","level":2,"text":"Configuration Options","anchor":"Configuration-Options"},{"level":4,"text":"model","anchor":"model","type":"heading"},{"inlineContent":[{"type":"text","text":"The model that will complete your prompt. See "},{"identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","isActive":true,"type":"reference"},{"text":" for additional details and options.","type":"text"}],"type":"paragraph"},{"level":4,"anchor":"messages","text":"messages","type":"heading"},{"inlineContent":[{"text":"Input messages.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Anthropic’s models are trained to operate on alternating "},{"type":"reference","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/user","isActive":true},{"type":"text","text":" and "},{"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant","isActive":true,"type":"reference"},{"type":"text","text":" conversational turns. When generating a response,"},{"text":" ","type":"text"},{"text":"you specify the prior conversational turns with the ","type":"text"},{"code":"messages","type":"codeVoice"},{"text":" parameter, and the model then generates the next message in the conversation.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can specify a single user-role message, or you can include multiple user and assistant messages. The first message must always use the user role."}]},{"inlineContent":[{"text":"If the final message uses the ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant"},{"type":"text","text":" role, the response content will continue immediately from the content in that message. This can be used to constrain part of the model’s response."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let response = anthropic.sendRequest(","    messages: [","        Message(\"What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun\", role: .user)","        Message(\"The best answer is (\", role: .assistant)","    ]",")","","\/\/ B)","print(response.content)"]},{"inlineContent":[{"type":"text","text":"Note that if you want to include a system prompt, you can use the system parameter — there is no “system” role for input messages."}],"type":"paragraph"},{"type":"heading","anchor":"maxTokens","level":4,"text":"maxTokens"},{"inlineContent":[{"type":"text","text":"The maximum number of tokens to generate before stopping."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Note that Anthropic’s models may stop before reaching this maximum. This parameter only specifies the absolute maximum number of tokens to generate.","type":"text"}]},{"inlineContent":[{"text":"Different models have different maximum values for this parameter. See ","type":"text"},{"overridingTitle":"Anthropic’s docs","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Anthropic’s docs"}],"identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","isActive":true},{"type":"text","text":" for details."}],"type":"paragraph"},{"type":"heading","level":4,"text":"metadata","anchor":"metadata"},{"type":"paragraph","inlineContent":[{"type":"text","text":"An object describing metadata about the request. Anthropic may use the ID in this object to help detect abuse."}]},{"anchor":"stopSequences","text":"stopSequences","level":4,"type":"heading"},{"inlineContent":[{"type":"text","text":"Custom text sequences that will cause the model to stop generating."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Anthropic’s models will normally stop when they have naturally completed their turn, which will result in a response stopReason of ","type":"text"},{"type":"reference","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/endTurn","isActive":true},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"If you want the model to stop generating when it encounters custom strings of text, you can use the stopSequences parameter.","type":"text"},{"text":" ","type":"text"},{"text":"If the model encounters one of the custom sequences, the response stopReason value will be ","type":"text"},{"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/stopSequence(_:)","isActive":true,"type":"reference"},{"type":"text","text":", containing the matched stop sequence."}]},{"type":"heading","text":"stream","level":4,"anchor":"stream"},{"type":"paragraph","inlineContent":[{"text":"Streams are not yet supported.","type":"text"}]},{"level":4,"text":"system","type":"heading","anchor":"system"},{"type":"paragraph","inlineContent":[{"text":"A system prompt is a way of providing context and instructions to Claude, such as specifying a particular goal or role.","type":"text"},{"text":" ","type":"text"},{"text":"See ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts"},{"text":" to system prompts.","type":"text"}]},{"type":"heading","level":4,"anchor":"temperature","text":"temperature"},{"inlineContent":[{"type":"text","text":"Amount of randomness injected into the response. Ranges from "},{"type":"codeVoice","code":"0.0"},{"type":"text","text":" to "},{"type":"codeVoice","code":"1.0"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"Use temperature closer to ","type":"text"},{"type":"codeVoice","code":"0.0"},{"text":" for analytical \/ multiple choice, and closer to ","type":"text"},{"code":"1.0","type":"codeVoice"},{"type":"text","text":" for creative and generative tasks."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Note that even with temperature of ","type":"text"},{"code":"0.0","type":"codeVoice"},{"text":", the results will not be fully deterministic.","type":"text"}]},{"type":"heading","text":"tool_choice and tools","level":4,"anchor":"toolchoice-and-tools"},{"inlineContent":[{"type":"text","text":"Tools are not yet supported."}],"type":"paragraph"},{"anchor":"topK","level":4,"type":"heading","text":"topK"},{"inlineContent":[{"text":"Only sample from the top K options for each subsequent token. Used to remove “long tail” low probability responses. ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Recommended for advanced use cases only. You usually only need to use ","type":"text"},{"type":"codeVoice","code":"temperature"},{"text":".","type":"text"}]},{"anchor":"topP","level":4,"text":"topP","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Use nucleus sampling. In nucleus sampling, Anthropic computes the cumulative distribution over all the options for each subsequent token","type":"text"},{"type":"text","text":" "},{"text":"in decreasing probability order and cut it off once it reaches a particular probability specified by top_p.","type":"text"},{"type":"text","text":" "},{"text":"You should either alter ","type":"text"},{"code":"temperature","type":"codeVoice"},{"type":"text","text":" or "},{"type":"codeVoice","code":"top_p"},{"type":"text","text":", but not both."}]}]}],"kind":"symbol","relationshipsSections":[{"type":"conformsTo","title":"Conforms To","kind":"relationships","identifiers":["doc:\/\/SwiftAnthropic\/SE"]}],"hierarchy":{"paths":[["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic"]]},"metadata":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Request","kind":"identifier"}],"symbolKind":"struct","modules":[{"name":"SwiftAnthropic"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Request"}],"roleHeading":"Structure","title":"Request","externalID":"s:14SwiftAnthropic7RequestV"},"identifier":{"url":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A struct to configure a request to an Anthropic model."}],"sections":[],"variants":[{"paths":["\/documentation\/swiftanthropic\/request"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://SwiftAnthropic/SE":{"type":"unresolvable","title":"Swift.Encodable","identifier":"doc:\/\/SwiftAnthropic\/SE"},"doc://SwiftAnthropic/documentation/SwiftAnthropic":{"title":"SwiftAnthropic","abstract":[],"url":"\/documentation\/swiftanthropic","kind":"symbol","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic","type":"topic","role":"collection"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request":{"title":"Request","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Request","kind":"identifier"}],"url":"\/documentation\/swiftanthropic\/request","role":"symbol","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request","navigatorTitle":[{"text":"Request","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A struct to configure a request to an Anthropic model."}],"kind":"symbol"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Role/assistant":{"abstract":[{"text":"The assistant sent the message.","type":"text"}],"role":"symbol","type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"assistant"}],"kind":"symbol","title":"Role.assistant","url":"\/documentation\/swiftanthropic\/role\/assistant"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request/encode(to:)":{"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/encode(to:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"encode","kind":"identifier"},{"kind":"text","text":"("},{"text":"to","kind":"externalParam"},{"text":": any ","kind":"text"},{"preciseIdentifier":"s:s7EncoderP","kind":"typeIdentifier","text":"Encoder"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"}],"abstract":[],"type":"topic","kind":"symbol","title":"encode(to:)","url":"\/documentation\/swiftanthropic\/request\/encode(to:)","role":"symbol"},"https://towardsdatascience.com/how-to-sample-from-language-models-682bceb97277":{"title":"Learn more technical details here.","titleInlineContent":[{"text":"Learn more technical details here.","type":"text"}],"identifier":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277","url":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277","type":"link"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)":{"role":"symbol","kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"model"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Model","preciseIdentifier":"s:14SwiftAnthropic5ModelO"},{"kind":"text","text":", "},{"text":"messages","kind":"externalParam"},{"text":": [any ","kind":"text"},{"text":"ContentfulMessage","kind":"typeIdentifier","preciseIdentifier":"s:14SwiftAnthropic17ContentfulMessageP"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"maxTokens"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"metadata"},{"kind":"text","text":": "},{"text":"Metadata","kind":"typeIdentifier","preciseIdentifier":"s:14SwiftAnthropic8MetadataV"},{"text":"?, ","kind":"text"},{"text":"stopSequences","kind":"externalParam"},{"kind":"text","text":": ["},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"stream"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"system"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":", "},{"text":"temperature","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Sd","text":"Double"},{"kind":"text","text":", "},{"kind":"externalParam","text":"topK"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"topP"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":"?)"}],"type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)","abstract":[{"text":"Create a Request object.","type":"text"}],"title":"init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)","url":"\/documentation\/swiftanthropic\/request\/init(model:messages:maxtokens:metadata:stopsequences:stream:system:temperature:topk:topp:)"},"https://docs.anthropic.com/en/api/messages":{"title":"Message API","titleInlineContent":[{"text":"Message API","type":"text"}],"type":"link","url":"https:\/\/docs.anthropic.com\/en\/api\/messages","identifier":"https:\/\/docs.anthropic.com\/en\/api\/messages"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Response/StopReason-swift.enum/endTurn":{"type":"topic","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"endTurn"}],"title":"Response.StopReason.endTurn","abstract":[{"type":"text","text":"The model reached a natural stopping point."}],"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/endTurn","url":"\/documentation\/swiftanthropic\/response\/stopreason-swift.enum\/endturn"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Role/user":{"abstract":[{"type":"text","text":"The user sent the message."}],"role":"symbol","type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/user","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"user","kind":"identifier"}],"kind":"symbol","title":"Role.user","url":"\/documentation\/swiftanthropic\/role\/user"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Response/StopReason-swift.enum/stopSequence(_:)":{"title":"Response.StopReason.stopSequence(_:)","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"stopSequence","kind":"identifier"},{"kind":"text","text":"("},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":")","kind":"text"}],"kind":"symbol","type":"topic","abstract":[{"type":"text","text":"One of the provided custom stopSequences was generated."}],"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/stopSequence(_:)","role":"symbol","url":"\/documentation\/swiftanthropic\/response\/stopreason-swift.enum\/stopsequence(_:)"},"https://docs.anthropic.com/en/docs/models-overview":{"title":"models","titleInlineContent":[{"text":"models","type":"text"}],"identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","url":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","type":"link"},"https://docs.anthropic.com/en/docs/system-prompts":{"title":"Anthropic’s guide","titleInlineContent":[{"text":"Anthropic’s guide","type":"text"}],"type":"link","url":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts"}}}