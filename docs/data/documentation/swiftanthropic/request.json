{"relationshipsSections":[{"kind":"relationships","identifiers":["doc:\/\/SwiftAnthropic\/SE"],"type":"conformsTo","title":"Conforms To"}],"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)"]},{"title":"Instance Methods","identifiers":["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/encode(to:)"]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Request","kind":"identifier"}]}]},{"kind":"content","content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Request"},{"text":" exposes all configuration options offered by Anthropic for their ","type":"text"},{"type":"reference","identifier":"https:\/\/docs.anthropic.com\/en\/api\/messages","isActive":true},{"type":"text","text":"."}]},{"type":"heading","level":2,"text":"Configuration Options","anchor":"Configuration-Options"},{"anchor":"model","type":"heading","level":4,"text":"model"},{"inlineContent":[{"type":"text","text":"The model that will complete your prompt. See "},{"isActive":true,"type":"reference","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview"},{"text":" for additional details and options.","type":"text"}],"type":"paragraph"},{"level":4,"anchor":"messages","text":"messages","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Input messages.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Anthropic’s models are trained to operate on alternating "},{"isActive":true,"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/user","type":"reference"},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant"},{"text":" conversational turns. When generating a response,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you specify the prior conversational turns with the "},{"code":"messages","type":"codeVoice"},{"text":" parameter, and the model then generates the next message in the conversation.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can specify a single user-role message, or you can include multiple user and assistant messages. The first message must always use the user role."}]},{"inlineContent":[{"type":"text","text":"If the final message uses the "},{"type":"reference","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant","isActive":true},{"type":"text","text":" role, the response content will continue immediately from the content in that message. This can be used to constrain part of the model’s response."}],"type":"paragraph"},{"code":["let response = anthropic.sendRequest(","    messages: [","        Message(\"What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun\", role: .user)","        Message(\"The best answer is (\", role: .assistant)","    ]",")","","\/\/ B)","print(response.content)"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that if you want to include a system prompt, you can use the system parameter — there is no “system” role for input messages."}]},{"type":"heading","level":4,"text":"maxTokens","anchor":"maxTokens"},{"inlineContent":[{"text":"The maximum number of tokens to generate before stopping.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Note that Anthropic’s models may stop before reaching this maximum. This parameter only specifies the absolute maximum number of tokens to generate."}],"type":"paragraph"},{"inlineContent":[{"text":"Different models have different maximum values for this parameter. See ","type":"text"},{"overridingTitleInlineContent":[{"type":"text","text":"Anthropic’s docs"}],"identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","type":"reference","isActive":true,"overridingTitle":"Anthropic’s docs"},{"type":"text","text":" for details."}],"type":"paragraph"},{"level":4,"anchor":"metadata","type":"heading","text":"metadata"},{"inlineContent":[{"type":"text","text":"An object describing metadata about the request. Anthropic may use the ID in this object to help detect abuse."}],"type":"paragraph"},{"type":"heading","level":4,"anchor":"stopSequences","text":"stopSequences"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Custom text sequences that will cause the model to stop generating."}]},{"inlineContent":[{"type":"text","text":"Anthropic’s models will normally stop when they have naturally completed their turn, which will result in a response stopReason of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/endTurn"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"If you want the model to stop generating when it encounters custom strings of text, you can use the stopSequences parameter.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If the model encounters one of the custom sequences, the response stopReason value will be "},{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/stopSequence(_:)"},{"type":"text","text":", containing the matched stop sequence."}],"type":"paragraph"},{"anchor":"stream","type":"heading","text":"stream","level":4},{"type":"paragraph","inlineContent":[{"text":"Streams are not yet supported.","type":"text"}]},{"text":"system","type":"heading","level":4,"anchor":"system"},{"inlineContent":[{"type":"text","text":"A system prompt is a way of providing context and instructions to Claude, such as specifying a particular goal or role."},{"type":"text","text":" "},{"text":"See ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts"},{"type":"text","text":" to system prompts."}],"type":"paragraph"},{"type":"heading","text":"temperature","level":4,"anchor":"temperature"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Amount of randomness injected into the response. Ranges from "},{"code":"0.0","type":"codeVoice"},{"type":"text","text":" to "},{"type":"codeVoice","code":"1.0"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Use temperature closer to "},{"type":"codeVoice","code":"0.0"},{"type":"text","text":" for analytical \/ multiple choice, and closer to "},{"type":"codeVoice","code":"1.0"},{"text":" for creative and generative tasks.","type":"text"}]},{"inlineContent":[{"text":"Note that even with temperature of ","type":"text"},{"code":"0.0","type":"codeVoice"},{"text":", the results will not be fully deterministic.","type":"text"}],"type":"paragraph"},{"text":"tool_choice and tools","type":"heading","level":4,"anchor":"toolchoice-and-tools"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Tools are not yet supported."}]},{"anchor":"topK","level":4,"text":"topK","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Only sample from the top K options for each subsequent token. Used to remove “long tail” low probability responses. "},{"type":"reference","identifier":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277","isActive":true}]},{"inlineContent":[{"text":"Recommended for advanced use cases only. You usually only need to use ","type":"text"},{"type":"codeVoice","code":"temperature"},{"text":".","type":"text"}],"type":"paragraph"},{"type":"heading","anchor":"topP","level":4,"text":"topP"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use nucleus sampling. In nucleus sampling, Anthropic computes the cumulative distribution over all the options for each subsequent token"},{"text":" ","type":"text"},{"text":"in decreasing probability order and cut it off once it reaches a particular probability specified by top_p.","type":"text"},{"type":"text","text":" "},{"text":"You should either alter ","type":"text"},{"type":"codeVoice","code":"temperature"},{"type":"text","text":" or "},{"code":"top_p","type":"codeVoice"},{"text":", but not both.","type":"text"}]}]}],"metadata":{"symbolKind":"struct","externalID":"s:14SwiftAnthropic7RequestV","role":"symbol","roleHeading":"Structure","navigatorTitle":[{"text":"Request","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"Request","kind":"identifier"}],"modules":[{"name":"SwiftAnthropic"}],"title":"Request"},"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"url":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A struct to configure a request to an Anthropic model."}],"kind":"symbol","variants":[{"paths":["\/documentation\/swiftanthropic\/request"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"https://docs.anthropic.com/en/docs/system-prompts":{"title":"Anthropic’s guide","type":"link","titleInlineContent":[{"text":"Anthropic’s guide","type":"text"}],"url":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/system-prompts"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Response/StopReason-swift.enum/endTurn":{"kind":"symbol","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/endTurn","type":"topic","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"endTurn","kind":"identifier"}],"url":"\/documentation\/swiftanthropic\/response\/stopreason-swift.enum\/endturn","role":"symbol","title":"Response.StopReason.endTurn","abstract":[{"type":"text","text":"The model reached a natural stopping point."}]},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Role/assistant":{"abstract":[{"type":"text","text":"The assistant sent the message."}],"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/assistant","type":"topic","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"assistant","kind":"identifier"}],"url":"\/documentation\/swiftanthropic\/role\/assistant","role":"symbol","title":"Role.assistant","kind":"symbol"},"doc://SwiftAnthropic/documentation/SwiftAnthropic":{"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic","title":"SwiftAnthropic","url":"\/documentation\/swiftanthropic","kind":"symbol","abstract":[],"type":"topic","role":"collection"},"https://docs.anthropic.com/en/api/messages":{"identifier":"https:\/\/docs.anthropic.com\/en\/api\/messages","titleInlineContent":[{"text":"Message API","type":"text"}],"type":"link","url":"https:\/\/docs.anthropic.com\/en\/api\/messages","title":"Message API"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Response/StopReason-swift.enum/stopSequence(_:)":{"abstract":[{"type":"text","text":"One of the provided custom stopSequences was generated."}],"identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Response\/StopReason-swift.enum\/stopSequence(_:)","type":"topic","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"stopSequence","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":")"}],"url":"\/documentation\/swiftanthropic\/response\/stopreason-swift.enum\/stopsequence(_:)","role":"symbol","title":"Response.StopReason.stopSequence(_:)","kind":"symbol"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request/encode(to:)":{"kind":"symbol","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/encode(to:)","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"encode","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"to"},{"kind":"text","text":": any "},{"kind":"typeIdentifier","preciseIdentifier":"s:s7EncoderP","text":"Encoder"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"url":"\/documentation\/swiftanthropic\/request\/encode(to:)","role":"symbol","title":"encode(to:)","abstract":[]},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request":{"title":"Request","role":"symbol","url":"\/documentation\/swiftanthropic\/request","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"Request","kind":"identifier"}],"navigatorTitle":[{"text":"Request","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request","abstract":[{"type":"text","text":"A struct to configure a request to an Anthropic model."}]},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Role/user":{"title":"Role.user","role":"symbol","url":"\/documentation\/swiftanthropic\/role\/user","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"user"}],"type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Role\/user","abstract":[{"type":"text","text":"The user sent the message."}]},"https://docs.anthropic.com/en/docs/models-overview":{"type":"link","identifier":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview","title":"models","titleInlineContent":[{"type":"text","text":"models"}],"url":"https:\/\/docs.anthropic.com\/en\/docs\/models-overview"},"doc://SwiftAnthropic/SE":{"type":"unresolvable","identifier":"doc:\/\/SwiftAnthropic\/SE","title":"Swift.Encodable"},"https://towardsdatascience.com/how-to-sample-from-language-models-682bceb97277":{"title":"Learn more technical details here.","type":"link","titleInlineContent":[{"type":"text","text":"Learn more technical details here."}],"identifier":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277","url":"https:\/\/towardsdatascience.com\/how-to-sample-from-language-models-682bceb97277"},"doc://SwiftAnthropic/documentation/SwiftAnthropic/Request/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)":{"title":"init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)","role":"symbol","url":"\/documentation\/swiftanthropic\/request\/init(model:messages:maxtokens:metadata:stopsequences:stream:system:temperature:topk:topp:)","kind":"symbol","fragments":[{"kind":"identifier","text":"init"},{"text":"(","kind":"text"},{"text":"model","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Model","kind":"typeIdentifier","preciseIdentifier":"s:14SwiftAnthropic5ModelO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"messages"},{"kind":"text","text":": [any "},{"text":"ContentfulMessage","preciseIdentifier":"s:14SwiftAnthropic17ContentfulMessageP","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"maxTokens"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", "},{"kind":"externalParam","text":"metadata"},{"kind":"text","text":": "},{"preciseIdentifier":"s:14SwiftAnthropic8MetadataV","text":"Metadata","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"stopSequences"},{"text":": [","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":"], ","kind":"text"},{"text":"stream","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"text":", ","kind":"text"},{"text":"system","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"temperature"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sd","text":"Double"},{"text":", ","kind":"text"},{"text":"topK","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"topP"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":"?)","kind":"text"}],"type":"topic","identifier":"doc:\/\/SwiftAnthropic\/documentation\/SwiftAnthropic\/Request\/init(model:messages:maxTokens:metadata:stopSequences:stream:system:temperature:topK:topP:)","abstract":[{"type":"text","text":"Create a Request object."}]}}}